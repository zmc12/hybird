<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jsut.hybird.mapper.BookMapper">
    <resultMap id="BaseResultMap" type="com.jsut.hybird.pojo.Book">
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="amount" jdbcType="INTEGER" property="amount"/>
        <result column="book_name" jdbcType="VARCHAR" property="bookName"/>
        <result column="time" jdbcType="VARCHAR" property="time"/>
        <result column="studentName" jdbcType="VARCHAR" property="studentName"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        id, amount, bookName ,time,studentName
    </sql>
    <select id="selectAll"  resultMap="BaseResultMap">
        select  distinct  book_name  ,amount,time,id  from book;
    </select>


    <select id="selectCode" parameterType="java.lang.String" resultMap="BaseResultMap">
        select * from book where code=#{code};
    </select>
    <insert id="insertT" parameterType="com.jsut.hybird.pojo.Book">
        insert into book(book_name,amount) values (#{bookName},#{amount});
    </insert>

    <delete id="deleteById" parameterType="java.lang.Integer">
        delete from book where id=#{id};
    </delete>
    <update id="updateById" parameterType="com.jsut.hybird.pojo.Book">
        update  book set amount=#{amount}, book_name=#{bookName} where id=#{id};
    </update>

    <select id="selectById" resultMap="BaseResultMap">
        select * from book where id=#{id};
    </select>


    <select id="selectByName"  resultMap="BaseResultMap">
        select  book_name,studentName,time  from book where book_name=#{bookName};
    </select>



    <update id="updateTime" parameterType="java.lang.String">
        update  book set time=#{time} where book_name=#{bookName} and studentName=#{studentName};
    </update>
</mapper>